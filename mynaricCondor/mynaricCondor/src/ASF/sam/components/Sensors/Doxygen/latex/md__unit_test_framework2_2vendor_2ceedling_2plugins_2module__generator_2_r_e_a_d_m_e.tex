\chapter{ceedling-\/module-\/generator}
\hypertarget{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e}{}\label{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e}\index{ceedling-\/module-\/generator@{ceedling-\/module-\/generator}}
\hypertarget{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md149}{}\doxysection{\texorpdfstring{Overview}{Overview}}\label{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md149}
The module\+\_\+generator plugin adds a pair of new commands to Ceedling, allowing you to make or remove modules according to predefined templates. WIth a single call, Ceedling can generate a source, header, and test file for a new module. If given a pattern, it can even create a series of submodules to support specific design patterns. Finally, it can just as easily remove related modules, avoiding the need to delete each individually.

Let\textquotesingle{}s say, for example, that you want to create a single module named {\ttfamily Mad\+Science}.


\begin{DoxyCode}{0}
\DoxyCodeLine{ceedling\ module:create[MadScience]}

\end{DoxyCode}


It says we\textquotesingle{}re speaking to the module plugin, and we want to create a new module. The name of that module is between the brackets. It will keep this case, unless you have specified a different default (see configuration). It will create three files\+: {\ttfamily Mad\+Science.\+c}, {\ttfamily Mad\+Science.\+h}, and {\ttfamily Test\+Mad\+Science.\+c}. {\itshape NOTE} that it is important that there are no spaces between the brackets. We know, it\textquotesingle{}s annoying... but it\textquotesingle{}s the rules.

You can also create an entire pattern of files. To do that, just add a second argument to the pattern ID. Something like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{ceedling\ module:create[SecretLair,mch]}

\end{DoxyCode}


In this example, we\textquotesingle{}d create 9 files total\+: 3 headers, 3 source files, and 3 test files. These files would be named {\ttfamily Secret\+Lair\+Model}, {\ttfamily Secret\+Lair\+Conductor}, and {\ttfamily Secret\+Lair\+Hardware}. Isn\textquotesingle{}t that nice?

Similarly, you can create stubs for all functions in a header file just by making a single call to your handy {\ttfamily stub} feature, like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{ceedling\ module:stub[SecretLair]}

\end{DoxyCode}


This call will look in Secret\+Lair.\+h and will generate a file Secret\+Lair.\+c that contains a stub for each function declared in the header! Even better, if Secret\+Lair.\+c already exists, it will add only new functions, leaving your existing calls alone so that it doesn\textquotesingle{}t cause any problems.\hypertarget{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md150}{}\doxysection{\texorpdfstring{Configuration}{Configuration}}\label{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md150}
Enable the plugin in your project.\+yml by adding {\ttfamily module\+\_\+generator} to the list of enabled plugins.

Then, like much of Ceedling, you can just run as-\/is with the defaults, or you can override those defaults for your own needs. For example, new source and header files will be automatically placed in the {\ttfamily src/} folder while tests will go in the {\ttfamily test/} folder. That\textquotesingle{}s great if your project follows the default ceedling structure... but what if you have a different structure?


\begin{DoxyCode}{0}
\DoxyCodeLine{:module\_generator:}
\DoxyCodeLine{\ \ :project\_root:\ ./}
\DoxyCodeLine{\ \ :source\_root:\ source/}
\DoxyCodeLine{\ \ :inc\_root:\ includes/}
\DoxyCodeLine{\ \ :test\_root:\ tests/}

\end{DoxyCode}


Now I\textquotesingle{}ve redirected the location where modules are going to be generated.\hypertarget{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md151}{}\doxysubsection{\texorpdfstring{Includes}{Includes}}\label{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md151}
You can make it so that all of your files are generated with a standard include list. This is done by adding to the {\ttfamily \+:includes} array. For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{:module\_generator:}
\DoxyCodeLine{\ \ :includes:}
\DoxyCodeLine{\ \ \ \ :tst:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ defs.h}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ board.h}
\DoxyCodeLine{\ \ \ \ :src:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ board.h}

\end{DoxyCode}
\hypertarget{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md152}{}\doxysubsection{\texorpdfstring{Boilerplates}{Boilerplates}}\label{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md152}
You can specify the actual boilerplate used for each of your files. This is the handy place to put that corporate copyright notice (or maybe a copyleft notice, if that\textquotesingle{}s your perference?)


\begin{DoxyCode}{0}
\DoxyCodeLine{:module\_generator:}
\DoxyCodeLine{\ \ :boilerplates:\ |}
\DoxyCodeLine{\ \ \ \ /***************************}
\DoxyCodeLine{\ \ \ \ *\ This\ file\ is\ Awesome.\ \ \ \ *}
\DoxyCodeLine{\ \ \ \ *\ That\ is\ All.\ \ \ \ \ \ \ \ \ \ \ \ \ *}
\DoxyCodeLine{\ \ \ \ ***************************/}

\end{DoxyCode}
\hypertarget{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md153}{}\doxysubsection{\texorpdfstring{Test Defines}{Test Defines}}\label{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md153}
You can specify the "{}\#ifdef TEST"{} at the top of the test files with a custom define. This example will put a "{}\#ifdef CEEDLING\+\_\+\+TEST"{} at the top of the test files. ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{:module\_generator:}
\DoxyCodeLine{\ \ :test\_define:\ CEEDLING\_TEST}

\end{DoxyCode}
\hypertarget{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md154}{}\doxysubsection{\texorpdfstring{Naming Convention}{Naming Convention}}\label{md__unit_test_framework2_2vendor_2ceedling_2plugins_2module__generator_2_r_e_a_d_m_e_autotoc_md154}
Finally, you can force a particular naming convention. Even if someone calls the generator with something like {\ttfamily My\+New\+Module}, if they have the naming convention set to {\ttfamily \+:caps}, it will generate files like {\ttfamily MY\+\_\+\+NEW\+\_\+\+MODULE.\+c}. This keeps everyone on your team behaving the same way.

Your options are as follows\+:


\begin{DoxyItemize}
\item {\ttfamily \+:bumpy} -\/ Bumpy\+Files\+Looks\+Like\+So
\item {\ttfamily \+:camel} -\/ camel\+Files\+Are\+Similar\+But\+Start\+Low
\item {\ttfamily \+:snake} -\/ snake\+\_\+case\+\_\+is\+\_\+all\+\_\+lower\+\_\+and\+\_\+uses\+\_\+underscores
\item {\ttfamily \+:caps} -\/ CAPS\+\_\+\+FEELS\+\_\+\+LIKE\+\_\+\+YOU\+\_\+\+ARE\+\_\+\+SCREAMING 
\end{DoxyItemize}