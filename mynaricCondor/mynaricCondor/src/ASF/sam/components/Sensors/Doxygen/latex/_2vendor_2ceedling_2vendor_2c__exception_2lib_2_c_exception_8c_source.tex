\doxysection{CException.\+c}
\hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source}{}\label{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source}\index{UnitTestFramework2/vendor/ceedling/vendor/c\_exception/lib/CException.c@{UnitTestFramework2/vendor/ceedling/vendor/c\_exception/lib/CException.c}}
\mbox{\hyperlink{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8h}{CException.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00003}00003\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ push}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00004}00004\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wmissing-\/field-\/initializers"{}}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00005}\mbox{\hyperlink{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_a7dc366c1b6ea1c8aa3ef34475675ad7b}{00005}}\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{struct_c_e_x_c_e_p_t_i_o_n___f_r_a_m_e___t}{CEXCEPTION\_FRAME\_T}}\ \mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_a7dc366c1b6ea1c8aa3ef34475675ad7b}{CExceptionFrames}}[\mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8h_a7e58ead8d22f4e915b26fe2a6f0b01bd}{CEXCEPTION\_NUM\_ID}}]\ =\ \{\{\ 0\ \}\};}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00006}00006\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ pop}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00008}00008\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00009}00009\ \textcolor{comment}{//\ \ Throw}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00010}00010\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00011}\mbox{\hyperlink{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_a74995bac14be4f19ea95ed1ec9d510de}{00011}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_a74995bac14be4f19ea95ed1ec9d510de}{Throw}}(\mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8h_a22368ec67c1c48cc2348245f47a02aef}{CEXCEPTION\_T}}\ ExceptionID)}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00012}00012\ \{}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00013}00013\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ MY\_ID\ =\ \mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8h_aeaa8e2d11e0a484e5d31a7d7a9877dbb}{CEXCEPTION\_GET\_ID}};}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00014}00014\ \ \ \ \ \mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_a7dc366c1b6ea1c8aa3ef34475675ad7b}{CExceptionFrames}}[MY\_ID].\mbox{\hyperlink{struct_c_e_x_c_e_p_t_i_o_n___f_r_a_m_e___t_abeb797ff7f3b1485681f20e07553ea2c}{Exception}}\ =\ ExceptionID;}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00015}00015\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_a7dc366c1b6ea1c8aa3ef34475675ad7b}{CExceptionFrames}}[MY\_ID].pFrame)}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00016}00016\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00017}00017\ \ \ \ \ \ \ \ \ longjmp(*\mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_a7dc366c1b6ea1c8aa3ef34475675ad7b}{CExceptionFrames}}[MY\_ID].pFrame,\ 1);}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00018}00018\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00019}00019\ \ \ \ \ \mbox{\hyperlink{vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8h_ac8517d98d7874a3e21e35c4e782220c1}{CEXCEPTION\_NO\_CATCH\_HANDLER}}(ExceptionID);}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00020}00020\ \}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00022}00022\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00023}00023\ \textcolor{comment}{//\ \ Explanation\ of\ what\ it's\ all\ for:}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00024}00024\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00025}00025\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00026}00026\ \textcolor{comment}{\#define\ Try}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00027}00027\ \textcolor{comment}{\ \ \ \ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ give\ us\ some\ local\ scope.\ \ most\ compilers\ are\ happy\ with\ this}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00028}00028\ \textcolor{comment}{\ \ \ \ \ \ \ \ jmp\_buf\ *PrevFrame,\ NewFrame;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ prev\ frame\ points\ to\ the\ last\ try\ block's\ frame.\ \ new\ frame\ gets\ created\ on\ stack\ for\ this\ Try\ block}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00029}00029\ \textcolor{comment}{\ \ \ \ \ \ \ \ unsigned\ int\ MY\_ID\ =\ CEXCEPTION\_GET\_ID;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ look\ up\ this\ task's\ id\ for\ use\ in\ frame\ array.\ \ always\ 0\ if\ single-\/tasking}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00030}00030\ \textcolor{comment}{\ \ \ \ \ \ \ \ PrevFrame\ =\ CExceptionFrames[CEXCEPTION\_GET\_ID].pFrame;\ \ \ \ \ \ \ \ \ <-\/\ set\ pointer\ to\ point\ at\ old\ frame\ (which\ array\ is\ currently\ pointing\ at)}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00031}00031\ \textcolor{comment}{\ \ \ \ \ \ \ \ CExceptionFrames[MY\_ID].pFrame\ =\ \&NewFrame;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ set\ array\ to\ point\ at\ my\ new\ frame\ instead,\ now}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00032}00032\ \textcolor{comment}{\ \ \ \ \ \ \ \ CExceptionFrames[MY\_ID].Exception\ =\ CEXCEPTION\_NONE;\ \ \ \ \ \ \ \ \ \ \ \ <-\/\ initialize\ my\ exception\ id\ to\ be\ NONE}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00033}00033\ \textcolor{comment}{\ \ \ \ \ \ \ \ if\ (setjmp(NewFrame)\ ==\ 0)\ \{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ do\ setjmp.\ \ it\ returns\ 1\ if\ longjump\ called,\ otherwise\ 0}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00034}00034\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ if\ (\&PrevFrame)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ this\ is\ here\ to\ force\ proper\ scoping.\ \ it\ requires\ braces\ or\ a\ single\ line\ to\ be\ but\ after\ Try,\ otherwise\ won't\ compile.\ \ This\ is\ always\ true\ at\ this\ point.}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00035}00035\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00036}00036\ \textcolor{comment}{\#define\ Catch(e)}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00037}00037\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ else\ \{\ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ this\ also\ forces\ proper\ scoping.\ \ Without\ this\ they\ could\ stick\ their\ own\ 'else'\ in\ and\ it\ would\ get\ ugly}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00038}00038\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ CExceptionFrames[MY\_ID].Exception\ =\ CEXCEPTION\_NONE;\ \ \ \ \ \ \ \ <-\/\ no\ errors\ happened,\ so\ just\ set\ the\ exception\ id\ to\ NONE\ (in\ case\ it\ was\ corrupted)}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00039}00039\ \textcolor{comment}{\ \ \ \ \ \ \ \ \}}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00040}00040\ \textcolor{comment}{\ \ \ \ \ \ \ \ else\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ an\ exception\ occurred}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00041}00041\ \textcolor{comment}{\ \ \ \ \ \ \ \ \{\ e\ =\ CExceptionFrames[MY\_ID].Exception;\ e=e;\}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ assign\ the\ caught\ exception\ id\ to\ the\ variable\ passed\ in.}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00042}00042\ \textcolor{comment}{\ \ \ \ \ \ \ \ CExceptionFrames[MY\_ID].pFrame\ =\ PrevFrame;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ make\ the\ pointer\ in\ the\ array\ point\ at\ the\ previous\ frame\ again,\ as\ if\ NewFrame\ never\ existed.}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00043}00043\ \textcolor{comment}{\ \ \ \ \}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ <-\/\ finish\ off\ that\ local\ scope\ we\ created\ to\ have\ our\ own\ variables}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00044}00044\ \textcolor{comment}{\ \ \ \ if\ (CExceptionFrames[CEXCEPTION\_GET\_ID].Exception\ !=\ CEXCEPTION\_NONE)\ \ <-\/\ start\ the\ actual\ 'catch'\ processing\ if\ we\ have\ an\ exception\ id\ saved\ away}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00045}00045\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{_2vendor_2ceedling_2vendor_2c__exception_2lib_2_c_exception_8c_source_l00046}00046\ }

\end{DoxyCode}
